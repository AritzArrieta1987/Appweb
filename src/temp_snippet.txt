  };

  // Si hay un artista seleccionado, mostrar solo el ArtistPortal (sin el layout del dashboard)
  if (selectedArtist) {
    const artistTracks = tracks.filter(t => t.artistId === selectedArtist.id);
    
    // Calcular platform breakdown para el artista
    const platformBreakdown: { [key: string]: number } = {};
    artistTracks.forEach(track => {
      track.platforms.forEach(platform => {
        if (!platformBreakdown[platform]) {
          platformBreakdown[platform] = 0;
        }
        platformBreakdown[platform] += track.totalRevenue / track.platforms.length;
      });
    });
    
    const artistData = {
      id: selectedArtist.id,
      name: selectedArtist.name,
      email: selectedArtist.email || '',
      photo: selectedArtist.photo,
      totalRevenue: selectedArtist.totalRevenue,
      totalStreams: selectedArtist.totalStreams,
      tracks: artistTracks,
      monthlyData: dashboardData.monthlyData,
      platformBreakdown
    };
    
    return (
      <ArtistPortal 
        onLogout={() => setSelectedArtist(null)}
        artistData={artistData}
      />
    );
  }

  return (
